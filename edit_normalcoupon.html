<!DOCTYPE html>
<html lang="en">

<head>
<link rel="icon" href="" type="image/jpg"/>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Offer walls form- Normal offer</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/av-admin.min.css" rel="stylesheet">
<style>
    .modal-confirm {    
  color: #636363;
  width: 325px;
  font-size: 14px;
}
.modal-confirm .modal-content {
  padding: 20px;
  border-radius: 5px;
  border: none;
}
.modal-confirm .modal-header {
  border-bottom: none;   
  position: relative;
}
.modal-confirm h4 {
  text-align: center;
  font-size: 26px;
  margin: 30px 0 -15px;
}
.modal-confirm .form-control, .modal-confirm .btn {
  min-height: 40px;
  border-radius: 3px; 
}
.modal-confirm .close {
  position: absolute;
  top: -5px;
  right: -5px;
} 
.modal-confirm .modal-footer {
  border: none;
  text-align: center;
  border-radius: 5px;
  font-size: 13px;
} 
.modal-confirm .icon-box {
  color: #fff;    
  position: absolute;
  margin: 0 auto;
  left: 0;
  right: 0;
  top: -70px;
  width: 95px;
  height: 95px;
  border-radius: 50%;
  z-index: 9;
  background: #82ce34;
  padding: 15px;
  text-align: center;
  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);
}
.modal-confirm .icon-box i {
  font-size: 58px;
  position: relative;
  top: 3px;
}
.modal-confirm.modal-dialog {
  margin-top: 80px;
}
.modal-confirm .btn {
  color: #fff;
  border-radius: 4px;
  background: #82ce34;
  text-decoration: none;
  transition: all 0.4s;
  line-height: normal;
  border: none;
}
.modal-confirm .btn:hover, .modal-confirm .btn:focus {
  background: #6fb32b;
  outline: none;
}
.trigger-btn {
  display: inline-block;
  margin: 100px auto;
}
</style>

</head>

<body class="bg-gradient-primary">

    <div class="container" >

        <!-- Outer Row -->
        <div class="row justify-content-center">

            <div class="col-xl-10 col-lg-12 col-md-9">

                <div class="card o-hidden border-0 shadow-lg my-5">
                    <div class="card-body p-0">
                        <!-- Nested Row within Card Body -->
                        <div class="row">
                            <div class="col-lg-6 d-none d-lg-block bg-login-image1"></div>
                            <div class="col-lg-6">
                                <div class="p-5">
                                    <div class="text-center">
                                        <h1 class="h4 text-gray-900 mb-4">EDIT OFFER WALL </h1>
                                    </div>
                                    <form class="user"onsubmit="return false">
                                        <div class="form-group">
                                        	<h5>Access to</h5>
                                        	<input type="text" class="form-control form-control-user"
                                                id="u" placeholder="Accessibility" required="required">
                                        </div>
                                        
                                        
                                        <div class="form-group">
                                          <h5>Restaurant Name</h5>
                                          <input type="text" class="form-control form-control-user"
                                                id="c"  value="Daalchini" readonly="readonly" placeholder="Restaurant Name" required="required">
                                        </div>
                                        <div class="form-group">
                                          <h5>Offer Name</h5>
                                            <input type="text" class="form-control form-control-user"
                                                id="d" placeholder="Offer Name" required="required" readonly="readonly">
                                        </div>
                                        <div class="form-group">
                                          <h5>Offer Discount</h5>
                                            <input type="number" class="form-control form-control-user"
                                                id="e" placeholder="Offer Discount" required="required">
                                        </div>
                                       

                                       <button id ='p1' class="btn btn-primary btn-user btn-block" onclick='validate(),save()'>Add Coupon</button>
                                       <p style="visibility: hidden;" id='p2'>  <a href="#myModal"  data-toggle="modal"> <button class="btn btn-primary btn-user btn-block"id='btn1'>
                                        Register
                                     </button></a></p>
                                        <hr>
                                       
                                    </form>
                                    <hr>
                                    <div class="text-center">
                                        <a href="cards.html" class="btn btn-primary btn-user btn-block">
                                            Go back
                                         </a>
                                         <hr>

                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>
<div class="text-center">
  <!-- Button HTML (to Trigger Modal) -->
  
</div>

<!-- Modal HTML -->
<div id="myModal" class="modal fade">
  <div class="modal-dialog modal-confirm">
    <div class="modal-content">
      <div class="modal-header">
        <div class="icon-box">
          <i class="material-icons">&#xE876;</i>
        </div>        
        <h4 class="modal-title w-100">Awesome!</h4> 
      </div>
      <div class="modal-body">
        <p class="text-center">Coupon details  has been successfully added.</p>
      </div>
      <div class="modal-footer">
              <a class="btn btn-success btn-block"href='thankyouoffers.html'>OK</a>
      </div>
    </div>
  </div>
</div> 

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/av-admin.min.js"></script>
    
     <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-database.js"></script>
  <script type="text/javascript">
  // Your web app's Firebase configuration
// Initialize Firebase
/*
function getcoordinates(){
var address =  document.getElementById('f').value;
var theurl = "https://geocoder.ls.hereapi.com/6.2/geocode.json?apiKey=3_h1uPumgaSn62Onibdsb4RO1jXB5udqPA9AjGBULWM&searchtext="+address;
var xmlHttp =  new XMLHttpRequest();
xmlHttp.open('GET',theurl,false);
xmlHttp.send(null);
var json = JSON.parse(xmlHttp.responseText);
console.log(json);
document.getElementById('a').value=json.Response.View[0].Result[0].Location.DisplayPosition.Latitude;
document.getElementById('b').value=json.Response.View[0].Result[0].Location.DisplayPosition.Longitude;
}
*/
var firebaseConfig = {
  //here i have use develope project
  
  apiKey: "AIzaSyBGQsw6dLVCQ_utGY7SHLBfg7EckVz9W0o",
    authDomain: "star-delivery-38f25.firebaseapp.com",
    databaseURL: "https://star-delivery-38f25-default-rtdb.firebaseio.com",
    projectId: "star-delivery-38f25",
    storageBucket: "star-delivery-38f25.appspot.com",
    messagingSenderId: "351160619379",
    appId: "1:351160619379:web:9de85e6098b55a5ace7506"
  };
  firebase.initializeApp(firebaseConfig);

// Set database variable
var database = firebase.database()
function validate(){
	var name = document.getElementById('c').value
  var email = document.getElementById('d').value
  var phone = document.getElementById('e').value
   //var address = document.getElementById('f').value
   //var selectwork = document.querySelector('input[name="work"]:checked');
//var selectshift = document.querySelector('input[name="shift"]:checked'); 
var selectaccess = document.getElementById('u').value
if(name=='' || email=='' || phone=='' || selectaccess==''){
	alert('please enter all details');
	document.getElementById("error").innerHTML= "*You have not selected*";
}
else{
	document.getElementById('p1').style.visibility='hidden';
	document.getElementById('p2').style.visibility='visible';

}

}
function save() {
	//geolocation functioning happens here
	//var address =  document.getElementById('f').value;
  var couponname = document.getElementById('d').value
  //var restname = document.getElementById('c').value
  var descript = document.getElementById('e').value
var selectaccess = document.getElementById('u').value
  a=['https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_FGjieoo3wyyKjq0NridbimKX8Y2dMPZB-w&usqp=CAU','https://www.getsethome.com/assets/img/page-top/offers.png','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScYCwmQVSk1aRUIfId0OK0RpSUC73JaL4CCw&usqp=CAU','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTe7RPyw0yvuNPVYDMVqjta7GKFBUCYcRfT8w&usqp=CAU','https://subbrokersindia.com/wp-content/uploads/2019/07/offers.jpg','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1kZmyMInxAlYUby8FKru_9Z7mM9DBO1TE6w&usqp=CAU','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRSzcCVSuVMSvvfWlltGWsutnlmu6GXs2DBA&usqp=CAU','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSwGZeH1PBJoAi4qD13-rXMJNC5Oa-wqiFXQ&usqp=CAU','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYCopdk5KUajlEpX6laSK4xXHsI7IT4Q955g&usqp=CAU','https://surrealhotels.com/wp-content/uploads/2014/10/Special_Offers2.jpg','https://i2.wp.com/innjt.com/wp-content/uploads/2016/04/red-special-offer.jpg?fit=640%2C448&ssl=1','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6g4y2_eO4tjXWWHyBeLX_0-cjSRzA-bPtRw&usqp=CAU','https://img.freepik.com/free-vector/special-offer-modern-sale-banner-template_1017-20667.jpg?size=626&ext=jpg','https://img.freepik.com/free-vector/special-offer-creative-sale-banner-design_1017-16284.jpg?size=626&ext=jpg','https://png.pngtree.com/png-clipart/20200225/original/pngtree-special-offer-sale-banner-template-design-with-colorful-design-isolated-on-png-image_5264798.jpg','https://static6.depositphotos.com/1014014/641/i/600/depositphotos_6416346-stock-photo-special-offers-3d-illustration-design.jpg','https://st.depositphotos.com/1029663/1384/i/600/depositphotos_13840733-stock-photo-special-offer.jpg'];
  var x = Math.floor((Math.random() * a.length));
  //document.getElementById("demo").innerHTML = x;
  Imgurl = a[x];
  console.log(Imgurl);
//var selectshift = document.querySelector('input[name="shift"]:checked');            
              
            if(selectaccess!= '' && couponname!='' &&  descript!='' ){
            	//var accessto=selectaccess.value;
              //var shift=selectshift.value;
				  database.ref('Offers/'+couponname+'/').update({
				    coupon_name:couponname,
				    Restaurantname: "Daalchini",
            Accessibility:selectaccess,
				    Discount:descript,
                    imgurl:Imgurl
           

				  })
}

  //alert('saved, enter menu');
 // document.getElementById("btn1").style.visibility = "hidden";
  //document.getElementById("anchor").style.visibility = "visible";
   // document.getElementById("p").style.visibility = "visible";
}
function loadvalue(){
  var d=sessionStorage.getItem('couponvalues');
  var s=d.split(',');
  //alert(s);
  document.getElementById('u').value=s[3];
 // document.getElementById('c').value=s[1];
 document.getElementById('d').value=s[0];
 document.getElementById('e').value=s[2];
 //document.getElementById('').value=s[4];
 //document.getElementById("v").value=s[4];
 //document.getElementById("category").value=s[6];
 //document.getElementById("type").value=s[4];

}
window.addEventListener('load',loadvalue);


    </script>

</body>

</html>

